<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous"/>
    <link rel="stylesheet" href="Pages/flightForm.css" type="text/css" />
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>


    <h2>Form to adding flights</h2>

    <form class="form" id="formSubmit">
        <div class="form-row">
            <label for="inpBody1">&nbsp;&nbsp;&nbsp;departureTime</label>
            <textarea id="inpBody1" ></textarea>
        </div>
        <div class="form-row">
            <label for="inpBody2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arrivalTime</label>
            <textarea id="inpBody2"></textarea>
        </div>

        <div class="form-row">
            <label for="inpBody3">numberOfPlaces</label>
            <textarea id="inpBody3"></textarea>
        </div>

        <div class="form-row">
            <label for="inpBody4">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ticketCost</label>
            <textarea id="inpBody4"></textarea>
        </div>

        <div class="form-row">
            <button type="submit" class="btn btn-success">Dodaj lot </button>
        </div>
    </form>


    <script>

        //pobieramy wszystkie niezbędne elementy
        $form = $('.form');
        $inputBody1 = $('#inpBody1');
        $inputBody2 = $('#inpBody2');
        $inputBody3 = $('#inpBody3');
        $inputBody4 = $('#inpBody4');
        $submitBtn = $form.find(":submit");

        //podpinamy się pod wysłany formularz
        $form.on("submit", function(e) {
            e.preventDefault();

//wysyłamy dane
            $.ajax({
                url: "http://localhost:8080/addFly",
                method : "POST",
                data: JSON.stringify({
                    departureTime : $inputBody1.val(),
                    arrivalTime : $inputBody2.val(),
                    numberOfPlaces : $inputBody3.val(),
                    ticketCost : $inputBody4.val()}),
                headers:{"Content-Type":"application/json; charset=utf-8"}

            })
        });
    </script>